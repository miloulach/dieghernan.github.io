---
layout: page
title: 'TEST'
subtitle: 'TEST'
permalink: /test/
---

<p>{{ site.tags }}

{% assign postsInYear = site.documents | where_exp: "item", "item.includeonfeed == true" | group_by_exp: 'documents', 'documents.date | date: "%Y"' %}

<p>{{ postsInYear }}

{% assign all_tags = '' | split: ',' %}

 {% for document in site.documents %}
    {% for tags in document.tags %}
        {% for tag in tags %}
            {% assign all_tags = all_tags | push: tag %}
        {% endfor %}
    {% endfor %}
{% endfor %}
 
 <ul class="tag-list">
    {% for tag in all_tags %}
        <li>{{ tag }}</li>
    {% endfor %}

</ul>


<p>{{ all_tags | inspect }}
<p> {{ all_tags }}
 
{% assign tagCount2 = all_tags| group_by_exp: 'item', 'item.tag'  %}
 
 <p> {{ tagCount2 }}
  <p> {{ tagCount2 | inspect  }}
   
   

{% comment %}map, flatten and sort{% endcomment %}
{% assign tags =  site.note | map: 'tags' | join: ','  | split: ',' | sort %}
{% assign previousTag = "" %}
{% assign counter = 0 %}

{% for currentTag in tags %}

  {% comment %}first loop : initializing previousTag{% endcomment %}
  {% if previousTag == "" %}
    {% assign previousTag = currentTag %}
  {% endif %}

  {% if currentTag == previousTag %}
    {% assign counter = counter | plus: 1 %}
  {% else %}
    {{ previousTag }} ({{ counter }})
    {% assign counter = 1 %}
  {% endif %}

  {% comment %}last loop : flushing what's left to print{% endcomment %}
  {% if forloop.last %}
    {{ currentTag }} ({{ counter }})
  {% endif %}

  {% assign previousTag = currentTag %}

{% endfor %}
